"use strict";(globalThis.webpackChunk_w5s_website=globalThis.webpackChunk_w5s_website||[]).push([[2537],{1184(n,e,i){i.d(e,{R:()=>s,x:()=>a});var t=i(4041);const r={},o=t.createContext(r);function s(n){const e=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),t.createElement(o.Provider,{value:e},n.children)}},2940(n,e,i){i.d(e,{n:()=>u});var t=i(2436),r=i(2196),o=i(396);const s="badge_qV9W",a="apiLink_d4om";var c=i(1085);function u(n){const e=(0,o.default)(),{siteConfig:i}=e;return(0,c.jsxs)(c.Fragment,{children:[null==n.apiHref?null:(0,c.jsxs)(t.default,{className:a,to:`${i.url}${i.baseUrl.replace(/\/$/,"")}${n.apiHref}`,children:["API ",(0,c.jsx)(r.A,{})]}),["npm-version","npm-license","bundle-size"].map(i=>(({siteConfig:n},e,i)=>{const t={className:s,key:i.badgeType},r=i.badgeStyle??"flat-square";if(null!=e.packageName)switch(i.badgeType){case"bundle-size":return(0,c.jsx)("img",{...t,alt:"Bundle size",src:`https://img.shields.io/bundlephobia/minzip/${encodeURIComponent(e.packageName)}?style=${r}`});case"npm-license":return(0,c.jsx)("img",{...t,alt:"NPM License",src:`https://img.shields.io/npm/l/${encodeURIComponent(e.packageName)}?style=${r}`});case"npm-version":return(0,c.jsx)("img",{...t,alt:"Github version",src:`https://img.shields.io/npm/v/${encodeURIComponent(e.packageName)}?style=${r}`})}return""})(e,n,{badgeType:i}))]})}},4349(n,e,i){i.r(e),i.d(e,{assets:()=>u,contentTitle:()=>c,default:()=>l,frontMatter:()=>a,metadata:()=>t,toc:()=>m});const t=JSON.parse('{"id":"packages/time/time-duration","title":"TimeDuration","description":"Working with time durations","source":"@site/docs/packages/4-time/time-duration.mdx","sourceDirName":"packages/4-time","slug":"/packages/time/time-duration","permalink":"/std/docs/packages/time/time-duration","draft":false,"unlisted":false,"editUrl":"https://github.com/w5s/std.git/tree/main/apps/website/docs/packages/4-time/time-duration.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Time","permalink":"/std/docs/packages/time/time"}}');var r=i(1085),o=i(1184),s=i(2940);const a={sidebar_position:2},c="TimeDuration",u={},m=[{value:"Overview",id:"overview",level:2},{value:"Creating Durations",id:"creating-durations",level:2},{value:"Using Object Syntax (Recommended)",id:"using-object-syntax-recommended",level:3},{value:"TimeDuration.of",id:"timedurationof",level:3},{value:"TimeDuration.from",id:"timedurationfrom",level:3},{value:"Unit Conversions",id:"unit-conversions",level:2},{value:"Arithmetic Operations",id:"arithmetic-operations",level:2},{value:"Addition",id:"addition",level:3},{value:"Subtraction",id:"subtraction",level:3},{value:"Negation",id:"negation",level:3},{value:"Comparison",id:"comparison",level:2},{value:"Constants",id:"constants",level:2},{value:"String Representation",id:"string-representation",level:2},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Readable Durations",id:"readable-durations",level:3},{value:"Duration Scaling",id:"duration-scaling",level:3},{value:"Working with Time",id:"working-with-time",level:3},{value:"FAQ",id:"faq",level:2}];function d(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...n.components},{Details:i}=e;return i||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"timeduration",children:"TimeDuration"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Working with time durations"}),"\n"]}),"\n",(0,r.jsx)(s.n,{apiHref:"/api/time/namespace/timeduration"}),"\n",(0,r.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"TimeDuration"})," represents an amount of time in milliseconds. It's a branded ",(0,r.jsx)(e.code,{children:"number"})," type that provides type safety and convenient creation from human-readable units."]}),"\n",(0,r.jsx)(e.h2,{id:"creating-durations",children:"Creating Durations"}),"\n",(0,r.jsx)(e.h3,{id:"using-object-syntax-recommended",children:"Using Object Syntax (Recommended)"}),"\n",(0,r.jsx)(e.p,{children:"Create durations using an object with named units:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"import { TimeDuration } from '@w5s/time';\n\n// Single unit\nconst oneHour = TimeDuration({ hours: 1 });\nconst thirtyMinutes = TimeDuration({ minutes: 30 });\nconst fiveSeconds = TimeDuration({ seconds: 5 });\n\n// Combined units\nconst complexDuration = TimeDuration({\n  weeks: 1,\n  days: 2,\n  hours: 3,\n  minutes: 45,\n  seconds: 30,\n  milliseconds: 500,\n});\n"})}),"\n",(0,r.jsx)(e.h3,{id:"timedurationof",children:"TimeDuration.of"}),"\n",(0,r.jsx)(e.p,{children:"Create from raw milliseconds:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"import { TimeDuration } from '@w5s/time';\n\nconst duration = TimeDuration.of(3600000); // 1 hour in milliseconds\n"})}),"\n",(0,r.jsx)(e.h3,{id:"timedurationfrom",children:"TimeDuration.from"}),"\n",(0,r.jsxs)(e.p,{children:["Alternative constructor (same as calling ",(0,r.jsx)(e.code,{children:"TimeDuration()"}),"):"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"import { TimeDuration } from '@w5s/time';\n\nconst duration = TimeDuration.from({ hours: 1, minutes: 30 });\nconst rawDuration = TimeDuration.from(5000);\n"})}),"\n",(0,r.jsx)(e.h2,{id:"unit-conversions",children:"Unit Conversions"}),"\n",(0,r.jsx)(e.p,{children:"Convert durations to different time units:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"import { TimeDuration } from '@w5s/time';\n\nconst duration = TimeDuration({ hours: 2, minutes: 30 });\n\nTimeDuration.toWeeks(duration);   // Duration in weeks\nTimeDuration.toDays(duration);    // Duration in days\nTimeDuration.toHours(duration);   // 2.5\nTimeDuration.toMinutes(duration); // 150\nTimeDuration.toSeconds(duration); // 9000\n"})}),"\n",(0,r.jsx)(e.h2,{id:"arithmetic-operations",children:"Arithmetic Operations"}),"\n",(0,r.jsx)(e.h3,{id:"addition",children:"Addition"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"import { TimeDuration } from '@w5s/time';\n\nconst a = TimeDuration({ hours: 1 });\nconst b = TimeDuration({ minutes: 30 });\n\nconst sum = TimeDuration['+'](a, b);\n// TimeDuration of 1 hour 30 minutes\n"})}),"\n",(0,r.jsx)(e.h3,{id:"subtraction",children:"Subtraction"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"import { TimeDuration } from '@w5s/time';\n\nconst a = TimeDuration({ hours: 2 });\nconst b = TimeDuration({ minutes: 30 });\n\nconst diff = TimeDuration['-'](a, b);\n// TimeDuration of 1 hour 30 minutes\n"})}),"\n",(0,r.jsx)(e.h3,{id:"negation",children:"Negation"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"import { TimeDuration } from '@w5s/time';\n\nconst positive = TimeDuration({ hours: 1 });\nconst negative = TimeDuration.negate(positive);\n// -3600000 (negative 1 hour)\n"})}),"\n",(0,r.jsx)(e.h2,{id:"comparison",children:"Comparison"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"import { TimeDuration } from '@w5s/time';\n\nconst oneHour = TimeDuration({ hours: 1 });\nconst twoHours = TimeDuration({ hours: 2 });\n\nTimeDuration['<'](oneHour, twoHours);  // true\nTimeDuration['>'](oneHour, twoHours);  // false\nTimeDuration['=='](oneHour, twoHours); // false\n"})}),"\n",(0,r.jsx)(e.h2,{id:"constants",children:"Constants"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"import { TimeDuration } from '@w5s/time';\n\n// Zero duration\nTimeDuration.zero; // 0\n"})}),"\n",(0,r.jsx)(e.h2,{id:"string-representation",children:"String Representation"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"import { TimeDuration } from '@w5s/time';\n\nconst duration = TimeDuration({ hours: 1, minutes: 30 });\n\n// Format to string\nTimeDuration.asString(duration);\n"})}),"\n",(0,r.jsx)(e.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,r.jsx)(e.h3,{id:"readable-durations",children:"Readable Durations"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"import { TimeDuration } from '@w5s/time';\n\n// Define common durations\nconst SECOND = TimeDuration({ seconds: 1 });\nconst MINUTE = TimeDuration({ minutes: 1 });\nconst HOUR = TimeDuration({ hours: 1 });\nconst DAY = TimeDuration({ days: 1 });\nconst WEEK = TimeDuration({ weeks: 1 });\n\n// Use in code\nfunction getCacheExpiry() {\n  return TimeDuration['*'](HOUR, 24); // 24 hours\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"duration-scaling",children:"Duration Scaling"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"import { TimeDuration } from '@w5s/time';\n\nconst baseInterval = TimeDuration({ seconds: 1 });\n\n// Exponential backoff\nfunction getBackoffDuration(attempt: number) {\n  const multiplier = Math.pow(2, attempt);\n  return TimeDuration['*'](baseInterval, multiplier);\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"working-with-time",children:"Working with Time"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"import { Task } from '@w5s/task';\nimport { Time, TimeDuration } from '@w5s/time';\n\n// Add duration to current time\nfunction getExpirationTime(ttl: TimeDuration) {\n  return Task.map(Time.now(), (now) => Time['+'](now, ttl));\n}\n\n// Check if time has elapsed\nfunction hasElapsed(startTime: Time, duration: TimeDuration) {\n  return Task.map(Time.now(), (now) => {\n    const elapsed = Time.diff(now, startTime);\n    return TimeDuration['>='](elapsed, duration);\n  });\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"faq",children:"FAQ"}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(e.p,{children:"Why use TimeDuration instead of plain numbers?"})}),(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"TimeDuration"})," provides:"]}),(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Type Safety"}),": Prevents mixing up durations with other numbers"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Readable Construction"}),": ",(0,r.jsx)(e.code,{children:"TimeDuration({ hours: 1 })"})," is clearer than ",(0,r.jsx)(e.code,{children:"3600000"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Unit Conversion"}),": Built-in methods for converting between units"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Documentation"}),": Types communicate intent better than raw numbers"]}),"\n"]}),(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-typescript",children:"// Without TimeDuration\nfunction setTimeout(ms: number) {} // What unit? Easy to pass seconds by mistake\n\n// With TimeDuration  \nfunction setTimeout(duration: TimeDuration) {} // Clear it's a duration\n"})})]})]})}function l(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}}}]);