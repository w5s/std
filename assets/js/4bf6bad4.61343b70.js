"use strict";(globalThis.webpackChunk_w5s_website=globalThis.webpackChunk_w5s_website||[]).push([[3594],{981(e,s,a){a.r(s),a.d(s,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>c,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"packages/task/creating-tasks","title":"Creating Tasks","description":"Different ways to create Task instances","source":"@site/docs/packages/3-task/creating-tasks.mdx","sourceDirName":"packages/3-task","slug":"/packages/task/creating-tasks","permalink":"/std/docs/packages/task/creating-tasks","draft":false,"unlisted":false,"editUrl":"https://github.com/w5s/std.git/tree/main/apps/website/docs/packages/3-task/creating-tasks.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/std/docs/packages/task/overview"},"next":{"title":"Composing Tasks","permalink":"/std/docs/packages/task/composing-tasks"}}');var t=a(1085),r=a(1184),o=a(2940);const c={sidebar_position:1},i="Creating Tasks",l={},d=[{value:"Overview",id:"overview",level:2},{value:"Task.create",id:"taskcreate",level:2},{value:"Task.resolve / Task.reject",id:"taskresolve--taskreject",level:2},{value:"Task.ok / Task.error",id:"taskok--taskerror",level:2},{value:"Task.tryCall",id:"tasktrycall",level:2},{value:"Task.from (Advanced)",id:"taskfrom-advanced",level:2}];function k(e){const s={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"creating-tasks",children:"Creating Tasks"})}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsx)(s.p,{children:"Different ways to create Task instances"}),"\n"]}),"\n",(0,t.jsx)(o.n,{apiHref:"/api/task/namespace/task"}),"\n",(0,t.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(s.p,{children:["Tasks can be created in multiple ways depending on your use case. The main entry point is ",(0,t.jsx)(s.code,{children:"Task.create"}),", but there are also convenience methods for common patterns."]}),"\n",(0,t.jsx)(s.h2,{id:"taskcreate",children:"Task.create"}),"\n",(0,t.jsx)(s.p,{children:"The primary way to create a task with custom logic:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"import { Task } from '@w5s/task';\n\n// Synchronous computation\nconst syncTask = Task.create(() => Task.ok(42));\n\n// Asynchronous computation\nconst asyncTask = Task.create(async () => {\n  const response = await fetch('/api/data');\n  const data = await response.json();\n  return Task.ok(data);\n});\n\n// With error handling\nconst fetchTask = Task.create(async () => {\n  try {\n    const response = await fetch('/api/data');\n    return Task.ok(await response.json());\n  } catch (error) {\n    return Task.error(new NetworkError({ cause: error }));\n  }\n});\n"})}),"\n",(0,t.jsx)(s.h2,{id:"taskresolve--taskreject",children:"Task.resolve / Task.reject"}),"\n",(0,t.jsx)(s.p,{children:"Create tasks that immediately resolve or reject:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"import { Task } from '@w5s/task';\n\n// A task that resolves with a value\nconst resolvedTask = Task.resolve(42);\n\n// A task that rejects with an error\nconst rejectedTask = Task.reject(new Error('Something went wrong'));\n"})}),"\n",(0,t.jsx)(s.h2,{id:"taskok--taskerror",children:"Task.ok / Task.error"}),"\n",(0,t.jsxs)(s.p,{children:["Shorthand for creating ",(0,t.jsx)(s.code,{children:"Result"})," objects within tasks:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"import { Task } from '@w5s/task';\n\nconst myTask = Task.create(() => {\n  const random = Math.random();\n  if (random > 0.5) {\n    return Task.ok(random);\n  }\n  return Task.error('Too low');\n});\n"})}),"\n",(0,t.jsx)(s.h2,{id:"tasktrycall",children:"Task.tryCall"}),"\n",(0,t.jsx)(s.p,{children:"Safely wrap functions that might throw:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"import { Task } from '@w5s/task';\n\nconst parseJSON = (text: string) =>\n  Task.tryCall(\n    () => JSON.parse(text),\n    (error) => new ParseError({ message: 'Invalid JSON', cause: error })\n  );\n"})}),"\n",(0,t.jsx)(s.h2,{id:"taskfrom-advanced",children:"Task.from (Advanced)"}),"\n",(0,t.jsx)(s.p,{children:"Lower-level API for creating tasks with full control over execution:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"import { Task } from '@w5s/task';\n\nconst delayedTask = Task.from(({ resolve, reject, canceler }) => {\n  const timeoutId = setTimeout(() => resolve(42), 1000);\n  \n  // Setup cancellation\n  canceler.current = () => clearTimeout(timeoutId);\n});\n"})})]})}function p(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(k,{...e})}):k(e)}},1184(e,s,a){a.d(s,{R:()=>o,x:()=>c});var n=a(4041);const t={},r=n.createContext(t);function o(e){const s=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),n.createElement(r.Provider,{value:s},e.children)}},2940(e,s,a){a.d(s,{n:()=>l});var n=a(2436),t=a(2196),r=a(396);const o="badge_qV9W",c="apiLink_d4om";var i=a(1085);function l(e){const s=(0,r.default)(),{siteConfig:a}=s;return(0,i.jsxs)(i.Fragment,{children:[null==e.apiHref?null:(0,i.jsxs)(n.default,{className:c,to:`${a.url}${a.baseUrl.replace(/\/$/,"")}${e.apiHref}`,children:["API ",(0,i.jsx)(t.A,{})]}),["npm-version","npm-license","bundle-size"].map(a=>(({siteConfig:e},s,a)=>{const n={className:o,key:a.badgeType},t=a.badgeStyle??"flat-square";if(null!=s.packageName)switch(a.badgeType){case"bundle-size":return(0,i.jsx)("img",{...n,alt:"Bundle size",src:`https://img.shields.io/bundlephobia/minzip/${encodeURIComponent(s.packageName)}?style=${t}`});case"npm-license":return(0,i.jsx)("img",{...n,alt:"NPM License",src:`https://img.shields.io/npm/l/${encodeURIComponent(s.packageName)}?style=${t}`});case"npm-version":return(0,i.jsx)("img",{...n,alt:"Github version",src:`https://img.shields.io/npm/v/${encodeURIComponent(s.packageName)}?style=${t}`})}return""})(s,e,{badgeType:a}))]})}}}]);