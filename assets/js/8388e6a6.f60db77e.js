"use strict";(self.webpackChunk_w5s_website=self.webpackChunk_w5s_website||[]).push([[2873],{876:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>c});var a=n(2784);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),d=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=d(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),u=d(n),k=r,c=u["".concat(p,".").concat(k)]||u[k]||s[k]||l;return n?a.createElement(c,i(i({ref:t},m),{},{components:n})):a.createElement(c,i({ref:t},m))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=k;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[u]="string"==typeof e?e:r,i[1]=o;for(var d=2;d<l;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},4707:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>i,default:()=>m,frontMatter:()=>l,toc:()=>o});var a=n(7896),r=(n(2784),n(876));const l={},i=void 0,o=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Enforce STD to write better code",id:"enforce-std-to-write-better-code",level:3},{value:"Example",id:"example",level:3},{value:"License",id:"license",level:2}],p={toc:o},d="wrapper";function m(e){let{components:t,...n}=e;return(0,r.kt)(d,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@w5s/core"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/npm/v/@w5s/core.svg?style=flat-square",alt:"NPM Version"})),"\n",(0,r.kt)("a",{parentName:"p",href:"../../LICENSE"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/license-MIT-green.svg?style=flat-square",alt:"License"}))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Core modules"),(0,r.kt)("h2",{parentName:"blockquote",id:"about-the-project"},"About the project")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"std")," is a library for typed functional programming in TypeScript.\nIt focuses on strong typing, purity, simplicity and restricted set of functionalities.\nAdvanced functional programming patterns, immutability should not be achieved if it degrades significantly type safety and simplicity."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"right"}),(0,r.kt)("th",{parentName:"tr",align:"center"},"Balance"),(0,r.kt)("th",{parentName:"tr",align:"left"}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"Loose typing"),(0,r.kt)("td",{parentName:"tr",align:"center"},"\u25a1\u25a1\u25a1\u25a1\u25a1\u25a1\u25a0"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Strong typing")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"Impure, Mutable"),(0,r.kt)("td",{parentName:"tr",align:"center"},"\u25a1\u25a1\u25a1\u25a1\u25a1\u25a0\u25a1"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Pure, Immutable")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"Simple Functional Programming"),(0,r.kt)("td",{parentName:"tr",align:"center"},"\u25a1\u25a1\u25a0\u25a1\u25a1\u25a1\u25a1"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Advanced Functional Programming")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"right"},"Lean"),(0,r.kt)("td",{parentName:"tr",align:"center"},"\u25a1\u25a1\u25a0\u25a1\u25a1\u25a1\u25a1"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Complete")))),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npm install @w5s/core\n")),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("h3",{id:"enforce-std-to-write-better-code"},"Enforce STD to write better code"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"VanillaJS"),(0,r.kt)("th",{parentName:"tr",align:null},"STD"),(0,r.kt)("th",{parentName:"tr",align:null},"Explanation"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"null"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"undefined")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Option")),(0,r.kt)("td",{parentName:"tr",align:null},"Stop spending time choosing between ",(0,r.kt)("inlineCode",{parentName:"td"},"undefined")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"null"),". Based on Microsoft standard, undefined (== ",(0,r.kt)("inlineCode",{parentName:"td"},"Option.None"),") is preferred.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"throw new Error()")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"return Result.Error(new Error())")),(0,r.kt)("td",{parentName:"tr",align:null},"Error throwing / Promise rejection is a mechanism that should only be used to stop the execution of a program. When a computation represents an expected failure (ex: parsing, data fetching), ",(0,r.kt)("inlineCode",{parentName:"td"},"Result")," should be used.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Task")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Task")," is like a Promise but lazily evaluated. It has numerous advantages (composable, etc). ",(0,r.kt)("a",{parentName:"td",href:"https://dev.to/anthonyjoeseph/should-i-use-fp-ts-task-h52"},"See Article"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"N/A"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Time"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"Duration")),(0,r.kt)("td",{parentName:"tr",align:null},"Tagged types that makes the unit of time explicit (milliseconds). Some libraries could use seconds or minutes implicitly which is confusing")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setTimeout(fn, ms)")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Task.andThen(Time.delay(ms), fn)")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"setTimeout")," is impure, create a task that will run after ",(0,r.kt)("inlineCode",{parentName:"td"},"Time.delay"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Date.now")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Time.now")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Date.now")," is impure, use ",(0,r.kt)("inlineCode",{parentName:"td"},"Time.now")," that is a ",(0,r.kt)("inlineCode",{parentName:"td"},"Task"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"console.debug")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Console.debug")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"console.debug")," is impure, use ",(0,r.kt)("inlineCode",{parentName:"td"},"Console.debug")," that is a ",(0,r.kt)("inlineCode",{parentName:"td"},"Task"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Math.random")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"randomNumber")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Math.random")," is impure, use ",(0,r.kt)("inlineCode",{parentName:"td"},"randomNumber")," that is a ",(0,r.kt)("inlineCode",{parentName:"td"},"Task"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"UUID"),", ..."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Task")),(0,r.kt)("td",{parentName:"tr",align:null},"More impure function, wrap them in a ",(0,r.kt)("inlineCode",{parentName:"td"},"Task()"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"N/A"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Int")),(0,r.kt)("td",{parentName:"tr",align:null},"A tagged type that narrows ",(0,r.kt)("inlineCode",{parentName:"td"},"number")," to only the safe integer values")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[].map"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"[].filter"),", ..."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Array.map"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"Array.filter"),", ..."),(0,r.kt)("td",{parentName:"tr",align:null},"Array module contains all immutable operations on arrays.")))),(0,r.kt)("h3",{id:"example"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"import { Result, Console, unsafeRun } from '@w5s/core';\n\nfunction parseNumber(expr: string) {\n  const parsed = Number(expr);\n\n  // - Return a immutable Result object\n  // - Avoid throwing error because impure\n  // - Avoid using NaN because the error case is implicit in the typing\n  return Number.isNaN(parsed) ? Result.Ok(parsed) : Result.Error('NotANumber');\n}\n\nexport function main() {\n  const parsed = parseNumber('1.1'); // Result.Ok(1.1)\n  const computed = Result.map(parsed, (amount) => amount + 2); // Result.Ok(3.1)\n\n  // Lazy operation that will display in console the computed result when evaluated\n  return Console.debug(computed);\n}\n\n// runTask is impure and should be put at the edge of the program\nvoid unsafeRun(main()); // prints { _: 'Result/Ok', value: 3.1 }\n")),(0,r.kt)("h2",{id:"license"},"License"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"../../LICENSE"},"MIT")," \xa9 Julien Polo ",(0,r.kt)("a",{parentName:"p",href:"mailto:julien.polo@gmail.com"},"julien.polo@gmail.com")))}m.isMDXComponent=!0}}]);