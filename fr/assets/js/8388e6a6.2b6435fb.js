"use strict";(self.webpackChunk_w5s_website=self.webpackChunk_w5s_website||[]).push([[516],{1184:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>c});var r=n(4041);const d={},t=r.createContext(d);function i(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),r.createElement(t.Provider,{value:s},e.children)}},8849:(e,s,n)=>{n.r(s),n.d(s,{contentTitle:()=>i,default:()=>o,frontMatter:()=>t,toc:()=>c});var r=n(1085),d=n(1184);const t={},i="W5S Core modules (@w5s/core)",c=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Enforce STD to write better code",id:"enforce-std-to-write-better-code",level:3},{value:"Example",id:"example",level:3},{value:"License",id:"license",level:2}];function l(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsxs)(s.h1,{id:"w5s-core-modules-w5score",children:["W5S Core modules ",(0,r.jsx)(s.em,{children:"(@w5s/core)"})]})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"https://www.npmjs.com/package/@w5s/core",children:(0,r.jsx)(s.img,{src:"https://img.shields.io/npm/v/@w5s/core.svg?style=flat-square",alt:"NPM Version"})}),"\n",(0,r.jsx)(s.a,{href:"https://github.com/w5s/project-config/blob/HEAD/packages/core/LICENSE",children:(0,r.jsx)(s.img,{src:"https://img.shields.io/badge/license-MIT-green.svg?style=flat-square",alt:"License"})})]}),"\n",(0,r.jsx)(s.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"npm install @w5s/core\n"})}),"\n",(0,r.jsx)(s.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(s.h3,{id:"enforce-std-to-write-better-code",children:"Enforce STD to write better code"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"VanillaJS"}),(0,r.jsx)(s.th,{children:"STD"}),(0,r.jsx)(s.th,{children:"Explanation"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"null"}),", ",(0,r.jsx)(s.code,{children:"undefined"})]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Option"})}),(0,r.jsxs)(s.td,{children:["Stop spending time choosing between ",(0,r.jsx)(s.code,{children:"undefined"})," and ",(0,r.jsx)(s.code,{children:"null"}),". Based on Microsoft standard, undefined (== ",(0,r.jsx)(s.code,{children:"Option.None"}),") is preferred."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"throw new Error()"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"return Result.Error(new Error())"})}),(0,r.jsxs)(s.td,{children:["Error throwing / Promise rejection is a mechanism that should only be used to stop the execution of a program. When a computation represents an expected failure (ex: parsing, data fetching), ",(0,r.jsx)(s.code,{children:"Result"})," should be used."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Promise"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Task"})}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"Task"})," is like a Promise but lazily evaluated. It has numerous advantages (composable, etc). ",(0,r.jsx)(s.a,{href:"https://dev.to/anthonyjoeseph/should-i-use-fp-ts-task-h52",children:"See Article"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"N/A"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"Time"}),", ",(0,r.jsx)(s.code,{children:"Duration"})]}),(0,r.jsx)(s.td,{children:"Tagged types that makes the unit of time explicit (milliseconds). Some libraries could use seconds or minutes implicitly which is confusing"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"setTimeout(fn, ms)"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Task.andThen(Time.delay(ms), fn)"})}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"setTimeout"})," is impure, create a task that will run after ",(0,r.jsx)(s.code,{children:"Time.delay"}),"."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Date.now"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Time.now"})}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"Date.now"})," is impure, use ",(0,r.jsx)(s.code,{children:"Time.now"})," that is a ",(0,r.jsx)(s.code,{children:"Task"}),"."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"console.debug"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Console.debug"})}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"console.debug"})," is impure, use ",(0,r.jsx)(s.code,{children:"Console.debug"})," that is a ",(0,r.jsx)(s.code,{children:"Task"}),"."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Math.random"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"randomNumber"})}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"Math.random"})," is impure, use ",(0,r.jsx)(s.code,{children:"randomNumber"})," that is a ",(0,r.jsx)(s.code,{children:"Task"}),"."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"UUID"}),", ..."]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Task"})}),(0,r.jsxs)(s.td,{children:["More impure function, wrap them in a ",(0,r.jsx)(s.code,{children:"Task()"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"N/A"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Int"})}),(0,r.jsxs)(s.td,{children:["A tagged type that narrows ",(0,r.jsx)(s.code,{children:"number"})," to only the safe integer values"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"[].map"}),", ",(0,r.jsx)(s.code,{children:"[].filter"}),", ..."]}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"Array.map"}),", ",(0,r.jsx)(s.code,{children:"Array.filter"}),", ..."]}),(0,r.jsx)(s.td,{children:"Array module contains all immutable operations on arrays."})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"example",children:"Example"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ts",children:"import { Result } from '@w5s/core';\n\nfunction parseNumber(expr: string) {\n  const parsed = Number(expr);\n\n  // - Return a immutable Result object\n  // - Avoid throwing error because impure\n  // - Avoid using NaN because the error case is implicit in the typing\n  return Number.isNaN(parsed) ? Result.Ok(parsed) : Result.Error('NotANumber');\n}\n\nexport function main() {\n  const parsed = parseNumber('1.1'); // Result.Ok(1.1)\n  return Result.map(parsed, (amount) => amount + 2); // Result.Ok(3.1)\n}\n\n// runTask is impure and should be put at the edge of the program\nvoid main(); // prints { _: 'Result/Ok', value: 3.1 }\n"})}),"\n",(0,r.jsx)(s.h2,{id:"license",children:"License"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"https://github.com/w5s/project-config/blob/HEAD/packages/core/LICENSE",children:"MIT"})," \xa9 Julien Polo ",(0,r.jsx)(s.a,{href:"mailto:julien.polo@gmail.com",children:"julien.polo@gmail.com"})]})]})}function o(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);